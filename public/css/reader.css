/* public/css/reader.css */
* { box-sizing: border-box; }
body, html { margin: 0; padding: 0; height: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
.reader-container { display: flex; flex-direction: column; height: 100vh; background: #1a1a1a; color: #e0e0e0; }
.reader-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; background: #2a2a2a; border-bottom: 1px solid #444; flex-shrink: 0; }
.header-left, .header-right { display: flex; align-items: center; gap: 12px; }
.book-title { font-weight: 600; font-size: 16px; color: #fff; }
button { padding: 8px 16px; background: #444; color: #e0e0e0; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; transition: background 0.2s; }
button:hover { background: #555; }
button:active { background: #666; }
.reader-main { display: flex; flex: 1; overflow: hidden; }
.sidebar { width: 300px; background: #2a2a2a; border-right: 1px solid #444; display: flex; flex-direction: column; transition: transform 0.3s; }
.sidebar.hidden { transform: translateX(-100%); position: absolute; }
.sidebar-header { display: flex; justify-content: space-between; align-items: center; padding: 16px; border-bottom: 1px solid #444; }
.sidebar-header h3 { margin: 0; font-size: 18px; }
#sidebar-close { background: transparent; font-size: 24px; padding: 0 8px; }
#toc { flex: 1; overflow-y: auto; padding: 12px; }
#toc a { display: block; padding: 8px 12px; color: #aaa; text-decoration: none; border-radius: 4px; margin-bottom: 4px; }
#toc a:hover { background: #444; color: #fff; }
.reader-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
#viewer { flex: 1; overflow: hidden; background: #1a1a1a; }
.reader-controls { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; background: #2a2a2a; border-top: 1px solid #444; flex-shrink: 0; }
.progress { flex: 1; text-align: center; font-size: 14px; color: #aaa; }
.panel { position: fixed; right: 0; top: 0; height: 100vh; width: 350px; background: #2a2a2a; border-left: 1px solid #444; box-shadow: -4px 0 12px rgba(0,0,0,0.3); z-index: 1000; display: flex; flex-direction: column; transition: transform 0.3s; }
.panel.hidden { transform: translateX(100%); }
.panel-header { display: flex; justify-content: space-between; align-items: center; padding: 16px 20px; border-bottom: 1px solid #444; }
.panel-header h3 { margin: 0; font-size: 18px; }
.panel-close { background: transparent; font-size: 24px; padding: 0 8px; }
.panel-content { flex: 1; overflow-y: auto; padding: 20px; }
.setting-group { margin-bottom: 24px; }
.setting-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #ccc; }
.btn-group { display: flex; gap: 8px; align-items: center; }
.btn-group button { flex: 1; }
#font-size-display { min-width: 50px; text-align: center; color: #aaa; }
.theme-btn.active { background: #007bff; color: white; }
.theme-btn.active:hover { background: #0056b3; }
.hidden { display: none !important; }
body.theme-light #viewer { background: #fff; color: #000; }
body.theme-sepia #viewer { background: #f4ecd8; color: #5c4b37; }
body.theme-dark #viewer { background: #1a1a1a; color: #e0e0e0; }
