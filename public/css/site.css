:root{
  --bg:#f7f8fb; --surface:#ffffff; --ink:#0e1220; --ink-weak:#5d6473; --muted:#8a91a2;
  --brand:#2563eb; --accent:#7c3aed; --ring:#c7d2fe;
  --amber:#ffb020; --green:#22c55e; --rose:#f43f5e; --cyan:#06b6d4;
  --card-radius:16px; --btn-radius:12px;
  --shadow-sm:0 2px 10px rgba(16,24,40,.06); --shadow:0 8px 30px rgba(16,24,40,.10);
  --container:1200px;
}

/* Base */
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);
  font:16px/1.6 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;}
img{max-width:100%;display:block} a{color:var(--brand);text-decoration:none}
a:hover{text-decoration:underline} button{cursor:pointer;border:0}
:focus-visible{outline:3px solid var(--ring);outline-offset:2px}
.muted{color:var(--ink-weak)}

/* Layout */
.container{max-width:var(--container);margin:0 auto;padding:0 20px}
.stack>*+*{margin-top:var(--gap,16px)}
.grid{display:grid;gap:20px}
.grid.cols-4{grid-template-columns:repeat(4,1fr)}
@media (max-width:1024px){.grid.cols-4{grid-template-columns:repeat(3,1fr)}}
@media (max-width:768px){.grid.cols-4{grid-template-columns:repeat(2,1fr)}}
@media (max-width:520px){.grid{grid-template-columns:1fr}}

/* Components */
.card{background:var(--surface);border-radius:var(--card-radius);box-shadow:var(--shadow-sm);padding:16px}
.card.hover:hover{box-shadow:var(--shadow);transform:translateY(-2px);transition:.2s ease}
.btn{display:inline-flex;align-items:center;justify-content:center;height:44px;padding:0 16px;
  border-radius:var(--btn-radius);font-weight:700;background:var(--brand);color:#fff}
.btn.secondary{background:#eef2ff;color:var(--brand)}
.input{height:44px;padding:0 14px;border:1px solid #e5e7eb;border-radius:12px;background:#fff;width:100%}
.textarea{min-height:140px;padding:12px;border:1px solid #e5e7eb;border-radius:12px;width:100%;resize:vertical}

/* Navbar */
.navbar{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.85);
  backdrop-filter:blur(12px) saturate(180%);border-bottom:1px solid #eef0f4}
.navbar-inner{display:flex;align-items:center;justify-content:space-between;height:64px}
.nav-left,.nav-right{display:flex;align-items:center;gap:16px}
.brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.2px}
.brand img{height:22px;width:auto}

/* Hero */
.hero{background:linear-gradient(135deg, rgba(37,99,235,.18), rgba(124,58,237,.18));
  padding:56px 0 28px;border-bottom:1px solid #eef0f4}
.hero h1{font-size:36px;line-height:1.2;margin:0 0 8px}
.hero p{color:var(--ink-weak);margin:0 0 16px}
.hero .search{display:flex;gap:10px;max-width:640px}

/* Books */
.book-cover{position:relative}
.cover-img{width:100%;height:180px;object-fit:cover;border-radius:12px}
.cover-ph{display:flex;align-items:center;justify-content:center;height:180px;border-radius:12px;
  background:linear-gradient(135deg, rgba(37,99,235,.15), rgba(124,58,237,.15));
  color:#1f2937;font-size:28px;font-weight:800}
.book-title{font-weight:800;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.book-author{color:var(--muted);font-size:14px;margin-top:4px}
.card-ctas{display:flex;gap:8px;margin-top:8px}

/* Carousel */
.carousel{position:relative;margin-top:24px}
.section-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.section-head .bar{height:3px;width:36px;border-radius:3px;margin-right:8px}
.section--trending .bar{background:var(--amber)}
.section--philosophy .bar{background:var(--green)}
.section--history .bar{background:var(--rose)}
.carousel-track{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:6px}
.carousel-track > *{scroll-snap-align:start;min-width:200px;flex:0 0 auto}
.carousel-track.is-short{justify-content:center}
.carousel-btn{height:36px;width:36px;border-radius:10px;background:#fff;border:1px solid #e5e7eb}

/* Back */
.back{display:inline-flex;align-items:center;gap:6px;color:var(--ink-weak)}
.back:hover{color:var(--ink)}

/* Toast (Listen) */
.toast{position:fixed;top:20px;right:20px;background:#111827;color:#fff;padding:12px 14px;border-radius:12px;
  box-shadow:var(--shadow);z-index:9999;display:none}
.toast.show{display:block}
.toast .actions{display:flex;gap:8px;margin-top:8px}
.toast .btn{height:36px;padding:0 10px}
.toast .btn.secondary{background:#374151;color:#fff}

/* Utility */
.hidden{display:none}