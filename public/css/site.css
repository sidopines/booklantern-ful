/* ==========================================================================
   BookLantern Pastel UI â€” site.css
   Lightweight, accessible, pastel theme
   Place at: public/css/site.css
   ========================================================================== */

/* -----------------------
   Design Tokens (CSS vars)
   ----------------------- */
:root{
  /* Pastel palette */
  --bg:            #fffdfb;  /* off-white */
  --bg-soft:       #fff7f1;  /* soft shell */
  --panel:         #ffffff;  /* surfaces */
  --ink:           #2b2b2b;  /* main text */
  --ink-muted:     #6b6b6b;  /* secondary text */

  /* Pastel accents */
  --p-rose:        #ffdfe5;  /* buttons/accents hover */
  --p-rose-strong: #ffb7c5;
  --p-mint:        #dff7ef;
  --p-lilac:       #e9e6ff;
  --p-sky:         #dff1ff;
  --p-sun:         #fff3bf;

  /* Brand primary (soft gold) */
  --brand:         #f7d774;
  --brand-ink:     #1f1f1f;

  /* Lines & shadows */
  --line:          rgba(20,20,20,.08);
  --shadow:        0 4px 18px rgba(0,0,0,.06);

  /* Controls */
  --radius:        14px;
  --radius-sm:     10px;
  --radius-lg:     18px;
  --focus:         0 0 0 3px rgba(87, 119, 255, .35);

  /* Typography scale */
  --font-sys: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --fs-hero:  clamp(1.6rem, 3.6vw, 2.25rem);
  --fs-h1:    clamp(1.35rem, 2.6vw, 1.75rem);
  --fs-h2:    clamp(1.15rem, 1.8vw, 1.35rem);
  --fs-body:  16px;

  /* Layout */
  --container: 1100px;
  --gap: 12px;
}

/* Respect users who prefer dark scheme (soft, not pitch black) */
@media (prefers-color-scheme: dark){
  :root{
    --bg:        #121315;
    --bg-soft:   #17181b;
    --panel:     #191a1e;
    --ink:       #f4f6f8;
    --ink-muted: #aeb5be;

    --p-rose:        #3a2a32;
    --p-rose-strong: #5b3a47;
    --p-mint:        #1d2a26;
    --p-lilac:       #26243a;
    --p-sky:         #1d2a36;
    --p-sun:         #2d2a16;

    --line:      rgba(255,255,255,.08);
    --shadow:    0 8px 24px rgba(0,0,0,.4);
    --brand:     #d8bb65;
    --brand-ink: #111;
  }
}

/* -------------
   Base / Reset
   ------------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ scroll-behavior:smooth; }
body{
  margin:0;
  color:var(--ink);
  background:
    radial-gradient(1200px 600px at 10% -10%, var(--p-sky), transparent 60%),
    radial-gradient(1000px 600px at 100% 0%, var(--p-rose), transparent 55%),
    linear-gradient(0deg, var(--bg-soft), var(--bg));
  font: 400 var(--fs-body)/1.6 var(--font-sys);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* -----------
   Utilities
   ----------- */
.container{ max-width:var(--container); margin-inline:auto; padding:0 16px; }
.stack{ display:flex; flex-direction:column; gap:var(--gap); }
.row{ display:flex; align-items:center; }
.center{ align-items:center; justify-content:center; }
.muted{ color:var(--ink-muted); }
.ph{ display:grid; place-items:center; background:var(--bg-soft); border-radius:var(--radius-sm); height:180px; color:var(--ink-muted); }
a{ color:inherit; text-underline-offset:2px; }
a:hover{ opacity:.9; }

/* Focus styles */
:where(a, button, input, select, textarea):focus-visible{ outline:none; box-shadow:var(--focus); }

/* -------------
   Navbar
   ------------- */
.navbar{
  position:sticky; top:0; z-index:50;
  backdrop-filter:saturate(160%) blur(8px);
  background:color-mix(in oklab, var(--panel), transparent 15%);
  border-bottom:1px solid var(--line);
}
.navbar .bar{ display:flex; align-items:center; justify-content:space-between; gap:10px; min-height:58px; }
.brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.2px; }
.brand .dot{ width:10px; height:10px; background:var(--brand); border-radius:50%; box-shadow:0 0 0 3px color-mix(in oklab, var(--brand), #000 5%); }
.nav-links{ display:flex; gap:16px; flex-wrap:wrap; }
.nav-right{ display:flex; gap:10px; align-items:center; }

.navbar a{ text-decoration:none; padding:8px 10px; border-radius:10px; }
.navbar a:hover{ background:color-mix(in oklab, var(--p-sky), transparent 60%); }

/* -------------
   Hero / Header
   ------------- */
.hero{
  padding:26px 0 8px;
  border-bottom:1px solid var(--line);
}
.hero .eyebrow{
  display:inline-block;
  font-size:.85rem;
  color:var(--brand-ink);
  background:var(--brand);
  padding:4px 10px;
  border-radius:999px;
  box-shadow:0 1px 0 rgba(0,0,0,.05);
}
.hero h1{ margin:10px 0 6px; font-size:var(--fs-hero); line-height:1.2; letter-spacing:.2px; }
.searchbar{
  display:flex; gap:10px; margin:12px 0 6px;
}
.searchbar input{
  flex:1; padding:12px 14px; border-radius:var(--radius);
  border:1px solid var(--line);
  background:var(--panel); color:var(--ink);
  box-shadow:var(--shadow);
}
.searchbar button{ white-space:nowrap; }

/* -------------
   Buttons
   ------------- */
.btn{
  --bg: var(--brand);
  --fg: var(--brand-ink);
  display:inline-flex; align-items:center; justify-content:center;
  gap:8px;
  padding:10px 14px; border-radius:12px;
  border:1px solid color-mix(in oklab, var(--bg), #000 10%);
  background:var(--bg); color:var(--fg); font-weight:600; cursor:pointer;
  box-shadow:0 1px 0 rgba(0,0,0,.06), var(--shadow);
  transition:transform .06s ease, filter .15s ease;
}
.btn:hover{ filter:saturate(108%); transform:translateY(-1px); }
.btn:active{ transform:translateY(0); }

.btn.ghost{
  --bg: color-mix(in oklab, var(--panel), var(--p-rose) 18%);
  --fg: var(--ink);
  border-color: var(--line);
}
.btn.secondary{
  --bg: color-mix(in oklab, var(--panel), var(--p-mint) 35%);
  --fg: var(--ink);
}
.btn.tiny{ padding:6px 10px; border-radius:10px; font-size:.85rem; }

/* -------------
   Cards / Panels
   ------------- */
.card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;
}

/* -------------
   Book card
   ------------- */
.carousel{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(160px, 1fr));
  gap:14px;
}
.card .cover{
  display:block; aspect-ratio: 3/4; overflow:hidden; background:var(--bg-soft);
}
.card .cover img{ width:100%; height:100%; object-fit:cover; display:block; }
.card .meta{ padding:10px 12px; }
.card .title{ font-size:1rem; margin:.1rem 0 .15rem; line-height:1.3; }
.card .author{ font-size:.9rem; color:var(--ink-muted); }

/* -------------
   Sections / Headings
   ------------- */
.section{ margin:24px 0; }
.section h2{
  font-size:var(--fs-h2); margin:0 0 .4rem; letter-spacing:.2px;
}
.section .sub{ color:var(--ink-muted); font-size:.95rem; }

/* -------------
   Grids
   ------------- */
.grid{ display:grid; gap:14px; }
.grid[style*="--cols"]{ grid-template-columns:repeat(var(--cols), 1fr); }
@media (max-width: 960px){
  .grid[style*="--cols"]{ grid-template-columns:repeat(3, 1fr); }
}
@media (max-width: 680px){
  .grid[style*="--cols"]{ grid-template-columns:repeat(2, 1fr); }
}

/* -------------
   Forms
   ------------- */
label{ display:grid; gap:6px; font-weight:600; }
input[type="text"], input[type="email"], input[type="password"], textarea, select{
  padding:12px 14px;
  border-radius:var(--radius);
  border:1px solid var(--line);
  background:var(--panel);
  color:var(--ink);
  box-shadow:var(--shadow);
}
textarea{ min-height:120px; resize:vertical; }

/* -------------
   Back link
   ------------- */
.back{
  display:inline-flex; align-items:center; gap:8px;
  margin:8px 16px; padding:6px 10px; border-radius:999px;
  text-decoration:none; background:var(--p-sky); border:1px solid var(--line);
}

/* -------------
   Reader page
   ------------- */
#reader{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow);
}
#reader iframe{ width:100%; height:75vh; border:0; border-radius:inherit; }
#fallback{ background:var(--p-sun); }

/* -------------
   Footer
   ------------- */
footer{
  margin-top:40px;
  border-top:1px solid var(--line);
  background:color-mix(in oklab, var(--panel), transparent 10%);
}
footer .inner{
  max-width:var(--container); margin:0 auto; padding:24px 16px;
  display:grid; gap:12px;
  grid-template-columns: 1.2fr .9fr .9fr;
}
footer .brandline{ display:flex; align-items:center; gap:10px; }
footer a{ text-decoration:none; }
footer a:hover{ text-decoration:underline; }

@media (max-width:880px){
  footer .inner{ grid-template-columns:1fr; }
}

/* -------------
   Alerts
   ------------- */
.alert{
  padding:10px 12px; border-radius:var(--radius); border:1px solid var(--line);
  background:var(--p-sky);
}
.alert.error{ background:var(--p-rose); }
.alert.success{ background:var(--p-mint); }

/* -------------
   Tables (if any)
   ------------- */
table{ width:100%; border-collapse:separate; border-spacing:0; font-size:.95rem; }
th,td{ padding:10px 12px; border-bottom:1px solid var(--line); }
th{ text-align:left; color:var(--ink-muted); font-weight:700; }

/* -------------
   Helper classes used in templates
   ------------- */
.hero .actions{ display:flex; gap:10px; flex-wrap:wrap; }
.hidden{ display:none !important; }

/* -------------
   Print tweaks (simple)
   ------------- */
@media print{
  .navbar, .hero .actions, .back, footer{ display:none !important; }
  body{ background:#fff; }
  .card{ box-shadow:none; }
}
