<!-- views/admin.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head.ejs', { pageTitle, pageDescription }) %>
</head>
<body>
  <h1>Admin Panel</h1>

  <!-- Add New Video -->
  <section>
    <h2>Add New Video</h2>
    <form action="/admin/add-video" method="POST">
      <input type="text"    name="title"      placeholder="Video Title"       required />
      <select name="genre" required>
        <option value="">Select Genre</option>
        <% genres.forEach(g => { %>
          <option value="<%= g._id %>"><%= g.name %></option>
        <% }) %>
      </select>
      <input type="url"     name="youtubeUrl" placeholder="YouTube URL" required />
      <input type="url"     name="thumbnail"  placeholder="Thumbnail URL" />
      <textarea name="description" placeholder="Description"></textarea>
      <button type="submit">Add Video</button>
    </form>
  </section>

  <!-- Delete Videos -->
  <section>
    <h2>Existing Videos</h2>
    <ul>
      <% videos.forEach(v => { %>
        <li>
          <%= v.title %> —
          <form action="/admin/delete-video/<%= v._id %>" method="POST" style="display:inline">
            <button type="submit">Delete</button>
          </form>
        </li>
      <% }) %>
    </ul>
  </section>

  <!-- Add New Genre -->
  <section>
    <h2>Add New Genre</h2>
    <form action="/admin/add-genre" method="POST">
      <input type="text" name="name" placeholder="Genre Name" required/>
      <button type="submit">Add Genre</button>
    </form>
  </section>

  <!-- Add New Book -->
  <section>
    <h2>Add New Book</h2>
    <form action="/admin/add-book" method="POST">
      <input type="text"    name="title"      placeholder="Book Title"        required />
      <input type="text"    name="author"     placeholder="Author"            />
      <input type="url"     name="sourceUrl"  placeholder="Source URL"       required />
      <input type="url"     name="coverImage" placeholder="Cover Image URL"  />
      <select name="genre">
        <option value="">Select Genre</option>
        <% genres.forEach(g => { %>
          <option value="<%= g.name %>"><%= g.name %></option>
        <% }) %>
      </select>
      <textarea name="description" placeholder="Description"></textarea>
      <button type="submit">Add Book</button>
    </form>
  </section>

  <a href="/">← Back to Home</a>
</body>
</html>
