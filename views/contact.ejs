<!doctype html>
<html lang="en">
<head>
  <%- include('./partials/head', {
    pageTitle: 'Contact • BookLantern',
    pageDescription: 'Send us feedback, questions, or partnership inquiries.',
    canonicalUrl: (typeof canonicalUrl !== 'undefined' ? canonicalUrl : '')
  }) %>
  <style>
    .contact-wrap { max-width: 920px; margin: 28px auto 40px; padding: 0 16px; }
    .intro { color: var(--ink-2); margin-top: 6px; margin-bottom: 24px; }
    .form-card { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; padding: 18px; box-shadow: 0 10px 30px rgba(0,0,0,.04); transition: transform .2s, box-shadow .2s; }
    .form-card:hover{ transform: translateY(-1px); box-shadow: 0 16px 40px rgba(0,0,0,.06); }
    .field { margin: 12px 0 16px; }
    .field label { display:block; font-weight:600; margin-bottom:6px; }
    .field .input, .field textarea { width:100%; }
    .field textarea { min-height: 160px; resize: vertical; }
    .row-actions { margin-top: 10px; }
    .alert { padding: 12px 14px; border-radius: 12px; margin: 12px 0 18px; font-weight: 500; }
    .alert-success { background: rgba(16,185,129,.12); color: #065f46; border: 1px solid rgba(16,185,129,.3); }
    .alert-error { background: rgba(239,68,68,.12); color:#7f1d1d; border:1px solid rgba(239,68,68,.3); }
    .hp { position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden; }
  </style>
</head>
<body>
  <%- include('./partials/navbar') %>

  <main class="contact-wrap">
    <a href="/" class="row" style="gap:6px; text-decoration:none; color:var(--ink-2);"><span>← Back</span></a>
    <h1 style="margin:10px 0 6px;">Contact Us</h1>
    <p class="intro">We’d love to hear from you. Send questions or feedback any time.</p>

    <% if (typeof sent !== 'undefined' && sent) { %>
      <div class="alert alert-success" role="status" aria-live="polite">
        Thank you — your message has been sent. We’ll get back to you soon.
      </div>
    <% } %>

    <% if (typeof error !== 'undefined' && error) { %>
      <div class="alert alert-error" role="alert">
        <%= error %>
      </div>
    <% } %>

    <form class="form-card" action="/contact" method="post" novalidate>
      <div class="hp">
        <label>Website <input type="text" name="website" tabindex="-1" autocomplete="off"></label>
      </div>

      <div class="field">
        <label for="name">Your Name</label>
        <input id="name" name="name" class="input" type="text" placeholder="Your name" value="<%= (old && old.name) ? old.name : '' %>" required>
      </div>

      <div class="field">
        <label for="email">Your Email</label>
        <input id="email" name="email" class="input" type="email" placeholder="you@example.com" value="<%= (old && old.email) ? old.email : '' %>" required>
      </div>

      <div class="field">
        <label for="message">Your Message</label>
        <textarea id="message" name="message" class="input" placeholder="Write your message..." required><%= (old && old.message) ? old.message : '' %></textarea>
      </div>

      <div class="row-actions">
        <button class="btn btn-primary" type="submit">Send Message</button>
      </div>
    </form>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>
