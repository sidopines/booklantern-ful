<!doctype html>
<html lang="en">
<head>
  <%- include('./partials/head', {
    pageTitle: 'Largest Online Hub of Free Books',
    pageDescription: 'Millions of free books from globally trusted libraries. One search, one clean reader.',
    canonicalUrl: (typeof canonicalUrl !== 'undefined' ? canonicalUrl : '')
  }) %>
</head>
<body>
  <%- include('./partials/navbar') %>

  <!-- HERO -->
  <header class="bl-hero">
    <div class="bl-hero__inner container">
      <div class="bl-hero__copy">
        <p class="eyebrow">BOOKLANTERN</p>
        <h1 class="bl-hero__title">
          The best <span class="hl">books</span><br>
          are the ones that <span class="hl">inspire</span>
        </h1>

        <form class="bl-hero__search" action="/search" method="get" role="search">
          <input type="text" name="q" placeholder="Search books, authors…" aria-label="Search books">
          <button class="btn" type="submit">Search</button>
        </form>

        <ul class="bl-hero__points">
          <li>No ads</li>
          <li>Distraction-free</li>
          <li>Peaceful reading experience</li>
        </ul>
      </div>

      <!-- Kindle-style device (click ➜ register) -->
      <a class="bl-device" href="/register" aria-label="Create account">
        <div class="bl-device__frame">
          <div class="bl-device__screen">
            <div class="bl-device__paper">
              <p class="bl-device__text">
                We are on a mission to connect readers world over with the largest collection
                of books. <strong>Find yours now!</strong>
              </p>
            </div>
            <span class="bl-device__pen" aria-hidden="true"></span>
          </div>
        </div>
      </a>
    </div>
  </header>

  <!-- SHELVES -->
  <main class="container shelves">
    <% const S = (locals && shelves) ? shelves : {}; %>

    <!-- Trending -->
    <section class="shelf">
      <div class="shelf__head">
        <h2>Trending now</h2>
        <a class="shelf__more" href="/search?q=popular">Browse all</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.trending) ? S.trending : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

    <!-- Philosophy -->
    <section class="shelf">
      <div class="shelf__head">
        <h2>Philosophy Picks</h2>
        <a class="shelf__more" href="/search?q=subject:Philosophy">See more</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.philosophy) ? S.philosophy : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

    <!-- History -->
    <section class="shelf">
      <div class="shelf__head">
        <h2>History Picks</h2>
        <a class="shelf__more" href="/search?q=subject:History">See more</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.history) ? S.history : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

    <!-- Science -->
    <section class="shelf">
      <div class="shelf__head">
        <h2>Science Picks</h2>
        <a class="shelf__more" href="/search?q=subject:Science">See more</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.science) ? S.science : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>
