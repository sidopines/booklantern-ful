<!-- views/index.ejs -->
<%- include('./partials/head', {
  pageTitle: 'Largest Online Hub of Free Books',
  pageDescription: 'Millions of free books from globally trusted libraries. One search, one clean reader.'
}) %>
<body>
  <%- include('./partials/navbar') %>

  <main>

    <!-- ===== Hero (Kindle-style device) ===== -->
    <section class="bl-hero">
      <div class="bl-hero__inner">
        <!-- Left copy -->
        <div class="bl-hero__copy">
          <p class="eyebrow">BookLantern</p>

          <h1 class="bl-hero__title">
            The best <span class="hl">books</span><br>
            are the ones that <span class="hl">inspire</span>
          </h1>

          <form class="hero-search" action="/search" method="get" role="search">
            <input type="text" name="q" placeholder="Search books, authorsâ€¦" aria-label="Search">
            <button class="btn" type="submit">Search</button>
          </form>

          <ul class="hero-points">
            <li>No ads</li>
            <li>Peace forever</li>
            <li>Peaceful reading experience</li>
          </ul>
        </div>

        <!-- Right: Kindle-style device (click => register) -->
        <a class="bl-device bl-device--kindle" href="/register" aria-label="Create account">
          <div class="bl-device__bezel">
            <div class="bl-device__camera" aria-hidden="true"></div>
            <div class="bl-device__screen" aria-hidden="true">
              <div class="bl-page">
                <div class="bl-page__title"></div>
                <div class="bl-page__para"></div>
                <div class="bl-page__para"></div>
                <div class="bl-page__para short"></div>
              </div>
            </div>
          </div>
          <div class="bl-pen" aria-hidden="true"><div class="bl-pen__clip"></div></div>
          <div class="bl-device__shadow" aria-hidden="true"></div>
        </a>
      </div>
    </section>

    <% const S = (typeof shelves === 'object' && shelves) ? shelves : {}; %>

    <!-- Trending -->
    <section class="row">
      <div class="row-head">
        <h2>Trending now</h2>
        <a class="see-more" href="/search?q=trending">Browse all</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.trending) ? S.trending : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

    <!-- Philosophy -->
    <section class="row">
      <div class="row-head">
        <h2>Philosophy Picks</h2>
        <a class="see-more" href="/search?q=subject%3APhilosophy">See more</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.philosophy) ? S.philosophy : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

    <!-- History -->
    <section class="row">
      <div class="row-head">
        <h2>History Picks</h2>
        <a class="see-more" href="/search?q=subject%3AHistory">See more</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.history) ? S.history : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

    <!-- Science -->
    <section class="row">
      <div class="row-head">
        <h2>Science Picks</h2>
        <a class="see-more" href="/search?q=subject%3AScience">See more</a>
      </div>
      <div class="carousel" role="list">
        <% (Array.isArray(S.science) ? S.science : []).forEach(function(b){ %>
          <%- include('./partials/bookCard', { b }) %>
        <% }) %>
      </div>
    </section>

  </main>

  <%- include('./partials/footer') %>
</body>
</html>
