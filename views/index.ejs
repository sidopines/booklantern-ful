<!doctype html>
<html lang="en">
<head>
  <%- include('./partials/head', {
    pageTitle: 'Largest Online Hub of Free Books',
    pageDescription: 'Millions of free books from globally trusted libraries. One search, one clean reader.',
    canonicalUrl: canonicalUrl,
    buildId: buildId
  }) %>
</head>
<body>
  <%- include('./partials/navbar') %>

  <header class="hero">
    <div class="container hero-inner">
      <h1>Largest Online Hub of Free Books</h1>
      <p class="hero-sub">Millions of books from globally trusted libraries. One search, one clean reader.</p>
      <ul class="hero-points">
        <li>No ads</li>
        <li>Free forever</li>
        <li>Clean reading experience</li>
      </ul>

      <form class="search" action="/search" method="get" role="search">
        <input type="text" name="q" placeholder="Search books, authorsâ€¦" aria-label="Search" />
        <button class="btn btn--primary" type="submit">Search</button>
      </form>
    </div>
  </header>

  <main class="container">
    <!-- Trending -->
    <section class="row">
      <div class="row-head">
        <h2>Trending now</h2>
      </div>
      <div class="carousel">
        <% const tList = (typeof trending !== 'undefined' && Array.isArray(trending)) ? trending : []; %>
        <% if (!tList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% tList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b: b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>

    <!-- Philosophy -->
    <section class="row">
      <div class="row-head">
        <h2>Philosophy Picks</h2>
      </div>
      <div class="carousel">
        <% const pList = (typeof philosophy !== 'undefined' && Array.isArray(philosophy)) ? philosophy : []; %>
        <% if (!pList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% pList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b: b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>

    <!-- History -->
    <section class="row">
      <div class="row-head">
        <h2>History Picks</h2>
      </div>
      <div class="carousel">
        <% const hList = (typeof history !== 'undefined' && Array.isArray(history)) ? history : []; %>
        <% if (!hList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% hList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b: b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>
  </main>

  <%- include('./partials/footer') %>

  <!-- Global scripts (cache-busted) -->
  <script src="/public/js/ui.js?v=<%= buildId %>"></script>
  <script src="/public/js/theme.js?v=<%= buildId %>"></script>
</body>
</html>
