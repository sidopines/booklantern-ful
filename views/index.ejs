<%- include('./partials/head', {
  pageTitle: 'Largest Online Hub of Free Books',
  pageDescription: 'Millions of free books from globally trusted libraries. One search, one clean reader.'
}) %>
<body>
  <%- include('./partials/navbar') %>

  <!-- HERO -->
  <header class="hero">
    <div class="hero__container">
      <div class="hero__copy">
        <p class="eyebrow">BookLantern</p>
        <h1 class="hero__title">
          The best <mark>books</mark><br>
          are the ones that <mark>inspire</mark>
        </h1>

        <form class="hero__search" action="/search" method="get">
          <input type="text" name="q" placeholder="Search books, authors…" aria-label="Search">
          <button class="btn" type="submit">Search</button>
        </form>

        <ul class="hero__bullets">
          <li>No ads</li>
          <li>Peace forever</li>
          <li>Peaceful reading experience</li>
        </ul>
      </div>

      <!-- Clickable phone → /register -->
      <a class="hero__phone" href="/register" aria-label="Create your BookLantern account">
        <div class="phone">
          <div class="phone__screen">
            <!-- Famous book covers grid -->
            <img loading="lazy" alt="Pride and Prejudice"  src="https://www.gutenberg.org/cache/epub/1342/pg1342.cover.medium.jpg">
            <img loading="lazy" alt="Frankenstein"         src="https://www.gutenberg.org/cache/epub/84/pg84.cover.medium.jpg">
            <img loading="lazy" alt="Moby Dick"            src="https://www.gutenberg.org/cache/epub/2701/pg2701.cover.medium.jpg">
            <img loading="lazy" alt="War and Peace"        src="https://www.gutenberg.org/cache/epub/2600/pg2600.cover.medium.jpg">
            <img loading="lazy" alt="Origin of Species"    src="https://www.gutenberg.org/cache/epub/2009/pg2009.cover.medium.jpg">
            <img loading="lazy" alt="Relativity"           src="https://www.gutenberg.org/cache/epub/30155/pg30155.cover.medium.jpg">
          </div>
        </div>
      </a>
    </div>
  </header>

  <!-- ROWS -->
  <main class="container">
    <!-- Trending -->
    <section class="row">
      <div class="row-head">
        <h2>Trending now</h2>
        <a class="muted" href="/search?q=trending">Browse all</a>
      </div>
      <div class="carousel">
        <% const tList = Array.isArray(trending) ? trending : []; %>
        <% if (!tList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% tList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>

    <!-- Philosophy -->
    <section class="row">
      <div class="row-head">
        <h2>Philosophy Picks</h2>
        <a class="muted" href="/search?q=philosophy">See more</a>
      </div>
      <div class="carousel">
        <% const pList = Array.isArray(philosophy) ? philosophy : []; %>
        <% if (!pList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% pList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>

    <!-- History -->
    <section class="row">
      <div class="row-head">
        <h2>History Picks</h2>
        <a class="muted" href="/search?q=history">See more</a>
      </div>
      <div class="carousel">
        <% const hList = Array.isArray(history) ? history : []; %>
        <% if (!hList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% hList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>

    <!-- Science -->
    <section class="row">
      <div class="row-head">
        <h2>Science</h2>
        <a class="muted" href="/search?q=science">See more</a>
      </div>
      <div class="carousel">
        <% const sList = Array.isArray(science) ? science : []; %>
        <% if (!sList.length) { %>
          <div class="empty">No books to show yet.</div>
        <% } else { %>
          <% sList.forEach(function(b){ %>
            <%- include('./partials/bookCard', { b }) %>
          <% }) %>
        <% } %>
      </div>
    </section>

    <!-- Still curious panel (kept minimal) -->
    <section class="panel">
      <h3>Still curious?</h3>
      <p>Let’s get to know each other better.</p>
      <a class="btn btn-primary" href="/about">Learn more about BookLantern</a>
    </section>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>
