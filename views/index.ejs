<%
const loggedIn = (typeof user !== 'undefined' && user) ? true : false;
const trendingBooks = (typeof trending !== 'undefined' && trending) ? trending : [];
const philosophyBooks = (typeof philosophy !== 'undefined' && philosophy) ? philosophy : [];
const historyBooks = (typeof history !== 'undefined' && history) ? history : [];
%>
<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head') %>
</head>
<body>
  <%- include('./partials/navbar') %>
  <%- include('./partials/hero') %>

  <% if ((!trending || !trending.length) && (!philosophy || !philosophy.length) && (!history || !history.length)) { %>
    <div class="container grid cols-4">
      <div class="skel card"></div><div class="skel card"></div><div class="skel card"></div><div class="skel card"></div>
    </div>
  <% } %>

  <main class="stack" style="--gap:24px">
    <%- include('./partials/bookCarousel', { title: 'Trending now', items: trending, sectionClass: 'section--trending' }) %>
    <%- include('./partials/bookCarousel', { title: 'Philosophy Picks', items: philosophy, sectionClass: 'section--philosophy' }) %>
    <%- include('./partials/bookCarousel', { title: 'History Picks', items: history, sectionClass: 'section--history' }) %>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>