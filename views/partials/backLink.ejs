<%
// Consistent back link with history fallback
const text = locals.text || 'Back';
const fallback = locals.fallback || '/';
%>

<a 
  class="back" 
  href="<%= fallback %>" 
  onclick="if(document.referrer && document.referrer !== window.location.href) { history.back(); return false; }"
>
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <polyline points="15,18 9,12 15,6"></polyline>
  </svg>
  <span><%= text %></span>
</a>

<style>
/* Back link styles */
.back {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--ink-weak);
  text-decoration: none;
  font-size: 14px;
  font-weight: 500;
  padding: 8px 0;
  transition: color 0.2s ease;
}

.back:hover {
  color: var(--ink);
  text-decoration: none;
}

.back svg {
  transition: transform 0.2s ease;
}

.back:hover svg {
  transform: translateX(-2px);
}

.back:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
  border-radius: 4px;
}
</style>