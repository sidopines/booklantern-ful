<%
// EXPECTS: { b }
// b: { id?, title, author?, cover?, href, provider? }
// Fallbacks kept minimal and neutral (no provider badges unless passed).
const title   = (b && b.title)  ? String(b.title)  : 'Untitled';
const author  = (b && b.author) ? String(b.author) : '';
const href    = (b && b.href)   ? String(b.href)   : '#';
const cover   = (b && b.cover)  ? String(b.cover)  : '/public/img/cover-fallback.svg';
const altText = author ? `${title} â€” ${author}` : title;
%>

<article class="bl-card" role="listitem">
  <a class="bl-card__thumb" href="<%= href %>" aria-label="<%= altText %>">
    <img
      src="<%= cover %>"
      alt="<%= altText %>"
      loading="lazy"
      decoding="async"
      width="140"
      height="210"
    />
  </a>

  <div class="bl-card__meta">
    <h3 class="bl-card__title"><a href="<%= href %>"><%= title %></a></h3>
    <% if (author) { %><p class="bl-card__author"><%= author %></p><% } %>
  </div>

  <div class="bl-card__cta">
    <a class="btn bl-card__btn" href="<%= href %>">Read</a>
  </div>
</article>
