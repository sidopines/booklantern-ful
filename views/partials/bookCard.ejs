<%
// expects item = { id, provider, title, author, cover, initials }
const readHref = `/read/${encodeURIComponent(item.provider)}/${encodeURIComponent(item.id)}`;
const hasCover = item.cover && item.cover.startsWith('http');
%>
<article class="book-card" role="listitem">
  <a class="cover-wrap" href="<%= readHref %>" aria-label="Read <%= item.title %>">
    <% if (hasCover) { %>
      <img src="<%= item.cover %>" alt="Cover: <%= item.title %>">
    <% } else { %>
      <div class="cover ph"><span class="ph-initials"><%= item.initials || 'BK' %></span></div>
    <% } %>
  </a>

  <div class="meta">
    <div class="title"><%= item.title %></div>
    <div class="author"><%= item.author || '' %></div>
  </div>

  <div class="actions">
    <a class="btn primary" href="<%= readHref %>">Read</a>
    <a class="btn secondary" href="<%= readHref %>#listen" aria-label="Listen to <%= item.title %>">Listen</a>
  </div>
</article>
