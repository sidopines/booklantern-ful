<!-- views/partials/bookCard.ejs -->
<%
  const title = b && b.title ? b.title : 'Untitled';
  const author = b && b.author ? b.author : '';
  const cover = b && b.cover ? b.cover : '/public/placeholder-cover.png';
  const href = b && b.href ? b.href : '#';
%>

<article class="card book-card" style="overflow:hidden;">
  <a class="stack" href="<%= href %>" style="--gap:8px; text-decoration:none;">
    <div class="cover">
      <img
        src="<%= cover %>"
        alt="<%= title %>"
        loading="lazy"
        decoding="async"
        referrerpolicy="no-referrer"
      />
    </div>
    <div class="meta stack" style="--gap:4px; padding:6px 8px 10px;">
      <h3 class="title" title="<%= title %>"><%= title %></h3>
      <% if (author) { %><p class="author"><%= author %></p><% } %>
      <span class="btn btn-primary read-btn" aria-label="Read <%= title %>">Read</span>
    </div>
  </a>
</article>
