<%
  const list = (typeof items !== 'undefined' && items && items.length) ? items : [];
  const secClass = (typeof sectionClass !== 'undefined' ? sectionClass : '');
  const heading = (typeof title !== 'undefined' ? title : 'Books');
  const uid = `c${Math.random().toString(36).slice(2)}`;
%>

<section class="carousel <%= secClass %>" aria-label="<%= heading %>">
  <div class="carousel-head">
    <h2 class="carousel-title"><%= heading %></h2>
    <div class="carousel-controls" aria-hidden="<%= list.length <= 1 ? 'true' : 'false' %>">
      <button class="icon-btn prev" type="button" data-target="<%= uid %>" aria-label="Scroll left">‹</button>
      <button class="icon-btn next" type="button" data-target="<%= uid %>" aria-label="Scroll right">›</button>
    </div>
  </div>

  <div class="carousel-viewport">
    <div class="carousel-track" id="<%= uid %>" role="list">
      <% if (!list.length) { %>
        <div class="card empty" role="note">Nothing to show yet.</div>
      <% } else { %>
        <% list.forEach(it => { %>
          <%- include('./bookCard', { item: it }) %>
        <% }) %>
      <% } %>
    </div>
  </div>
</section>
