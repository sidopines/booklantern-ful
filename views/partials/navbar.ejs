<%
// expects: isAuthenticated, user
// uses theme.js which looks for [data-theme-toggle]
%>
<nav class="navbar">
  <div class="container navbar__inner">
    <a class="brand" href="/" aria-label="BookLantern home">
      <img src="/public/logo.svg" alt="" width="20" height="20" style="vertical-align:middle">
      <span class="brand__text">BookLantern</span>
    </a>

    <ul class="nav">
      <li><a href="/read">Read</a></li>
      <li><a href="/watch">Watch</a></li>
      <li><a href="/about">About</a></li>
      <li><a href="/contact">Contact</a></li>
    </ul>

    <form class="nav-search" action="/search" method="get" role="search">
      <label class="sr-only" for="q">Search free books</label>
      <input id="q" name="q" type="search" placeholder="Search free booksâ€¦" />
      <button type="submit" class="btn btn--ghost">Search</button>
    </form>

    <div class="nav-actions">
      <button type="button" class="btn btn--ghost" data-theme-toggle aria-pressed="false" title="Toggle theme">
        <span data-theme-icon>ðŸŒž</span>
      </button>

      <% if (isAuthenticated) { %>
        <a class="btn btn--ghost" href="/dashboard">Account</a>
        <form method="post" action="/logout" style="display:inline;">
          <button class="btn btn--primary" type="submit">Logout</button>
        </form>
      <% } else { %>
        <a class="btn btn--ghost" href="/login">Login</a>
        <a class="btn btn--primary" href="/register">Create account</a>
      <% } %>
    </div>
  </div>
</nav>
