<%- include('./partials/head', {
  pageTitle: (typeof pageTitle !== 'undefined' ? pageTitle : 'Explore Free Books'),
  pageDescription: 'Search millions of books from globally trusted libraries. Clean reading experience.'
}) %>
<body>
  <%- include('./partials/navbar') %>

  <!-- Reuse the same hero but keep the query in the input -->
  <section class="hero">
    <div class="inner">
      <h1>Largest Online Hub of Free Books</h1>
      <p>Millions of books from globally trusted libraries. One search, one clean reader.</p>

      <form class="searchbar" action="/read" method="get">
        <input class="input" name="q" type="search" placeholder="Search millions of booksâ€¦" aria-label="Search books" value="<%= typeof q !== 'undefined' ? q : '' %>">
        <button class="btn" type="submit">Search</button>
      </form>
    </div>
  </section>

  <main class="container" style="padding:18px 0 28px">
    <% if (items && items.length) { %>
      <div style="display:flex;flex-wrap:wrap;gap:12px">
        <% items.forEach(function(it){ %>
          <%- include('./partials/bookCard', { item: it }) %>
        <% }) %>
      </div>
    <% } else { %>
      <div class="muted" style="margin-top:10px">Start by searching above.</div>
    <% } %>
  </main>

  <%- include('./partials/footer') %>
