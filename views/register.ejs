<!doctype html>
<html lang="en">
<head>
  <%- include('./partials/head', { pageTitle: 'Register - BookLantern' }) %>
</head>
<body>
  <%- include('./partials/navbar') %>
  <%- include('./partials/backLink', { referrer: referrer }) %>

  <main class="stack" style="--gap:20px; max-width:520px; margin:40px auto;">
    <h1>Create your account</h1>
    <% if (typeof error !== 'undefined') { %>
      <p class="alert error"><%= error %></p>
    <% } %>
    <% if (typeof success !== 'undefined') { %>
      <p class="alert success"><%= success %></p>
    <% } %>

    <form method="post" action="/register" class="card stack" style="--gap:12px; padding:16px;">
      <input type="hidden" name="_csrf" value="<%= csrfToken %>">
      <input type="hidden" name="next" value="<%= typeof next !== 'undefined' ? next : '/' %>">

      <label>Name
        <input name="name" type="text" required placeholder="Your name" autocomplete="name">
      </label>

      <label>Email
        <input name="email" type="email" required placeholder="you@example.com" autocomplete="email">
      </label>

      <label>Password
        <input name="password" type="password" required placeholder="At least 6 characters" autocomplete="new-password">
      </label>

      <button class="btn primary" type="submit">Register</button>
      <p class="muted">Already have an account? <a href="/login">Login</a></p>
    </form>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>
