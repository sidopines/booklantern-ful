<%
const loggedIn = (typeof user !== 'undefined' && user) ? true : false;
const videos = (typeof videoData !== 'undefined' && videoData) ? videoData : [];
%>
<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head') %>
</head>
<body>
  <%- include('./partials/navbar') %>
  
  <div class="container" style="padding-top:16px">
    <%- include('./partials/backLink') %>
  </div>

  <main class="container stack" style="--gap:16px">
    <h1>Educational Videos</h1>
    <% if (videos && videos.length) { %>
      <section class="grid cols-4" role="list">
        <% videos.forEach(v => { %>
          <article class="card hover" role="listitem">
            <% if (v.thumbnail) { %>
              <img class="cover-img" src="<%= v.thumbnail %>" alt="Thumbnail: <%= v.title %>" loading="lazy" onerror="this.style.display='none'">
            <% } else { %>
              <div class="cover-ph">▶︎</div>
            <% } %>
            <div class="stack" style="--gap:6px">
              <div class="book-title"><%= v.title %></div>
              <div class="card-ctas">
                <a class="btn" href="<%= v.href %>" target="_blank" rel="noopener">Watch</a>
              </div>
            </div>
          </article>
        <% }) %>
      </section>
    <% } else { %>
      <div class="card" style="max-width:640px;margin:0 auto;text-align:center">
        No videos available yet<br><span class="muted">Check back soon for educational content.</span>
      </div>
    <% } %>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>