<%- include('./partials/head', { pageTitle: 'Watch - BookLantern' }) %>
<body>
  <%- include('./partials/navbar') %>

  <main class="stack" style="--gap:16px; max-width:1100px; margin:30px auto; padding:0 16px;">
    <h1>Watch</h1>

    <% const list = (typeof videos !== 'undefined' && Array.isArray(videos)) ? videos : []; %>
    <% if (!list.length) { %>
      <div class="card" style="padding:16px;">No videos yet. (Add them in Admin.)</div>
    <% } else { %>
      <div class="grid" style="--cols:4; gap:12px;">
        <% list.forEach(v => { 
             const href  = v && v.url   ? v.url   : '#';
             const title = v && v.title ? v.title : 'Untitled video';
             const thumb = v && v.thumb ? v.thumb : null;
        %>
          <article class="card" style="overflow:hidden;">
            <a href="<%= href %>" target="_blank" rel="noopener noreferrer" class="stack" style="--gap:8px;">
              <% if (thumb) { %>
                <img src="<%= thumb %>" alt="<%= title %>" loading="lazy" style="width:100%; aspect-ratio:16/9; object-fit:cover;">
              <% } else { %>
                <div style="width:100%; aspect-ratio:16/9; display:flex; align-items:center; justify-content:center; background:var(--surface-2); color:var(--ink-2);">
                  No thumbnail
                </div>
              <% } %>
              <div class="meta" style="padding:8px;">
                <h4 class="title" style="margin:0; font-size:1rem; line-height:1.25; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;"><%= title %></h4>
              </div>
            </a>
          </article>
        <% }) %>
      </div>
    <% } %>
  </main>

  <%- include('./partials/footer') %>
</body>
</html>
